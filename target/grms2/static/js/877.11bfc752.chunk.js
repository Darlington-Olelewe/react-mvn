(self.webpackChunkgrms=self.webpackChunkgrms||[]).push([[877],{2757:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var s=t(885),i=t(2791),a="Modal_modal__Jpr8j",c="Modal_overlay__LliqE",l="Modal_modal__content__OHhp1",r=(t(463),"Charts_charts__wt4y1"),d=t(6305),o=t(2436),u=t(7487),h=t(184),m=function(e){d.kL.register(d.uw,d.FB,d.f$,d.ZL,d.Dx,d.u,d.De);var n=(0,i.useState)({}),t=(0,s.Z)(n,2),m=t[0],p=t[1],x=(0,i.useState)(!0),f=(0,s.Z)(x,2),j=f[0],v=f[1];(0,i.useEffect)((function(){u.Z.fetchChart(e.route,e.id).then((function(e){p(e.data)}))}),[]);var _={plugins:{title:{display:!0,text:m.name}},responsive:!0,scales:{x:{stacked:!0},y:{stacked:!0,type:"time",time:{unit:"month"},min:"2022-07-01",max:"2023-07-01"}}},b={labels:m.label,datasets:[{label:"Expiration Time",data:m.dataSet,backgroundColor:"rgb(255, 99, 132)"},{label:"Renewal Time",data:m.dataSet1,backgroundColor:"rgb(75, 192, 192)"}]};return console.log(b),(0,h.jsxs)("div",{children:[!j&&(0,h.jsxs)("div",{className:a,children:[(0,h.jsx)("div",{onClick:function(){v(!j)},className:c}),(0,h.jsx)("div",{children:(0,h.jsx)("div",{className:l,children:(0,h.jsx)("div",{className:r,children:(0,h.jsx)(o.$Q,{options:_,data:b})})})})]}),j&&(0,h.jsx)("div",{children:(0,h.jsx)("button",{className:"btn btn-success",onClick:function(){v(!j)},children:"Chart"})})]})}},9877:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return g}});var s=t(885),i=t(2791),a=t(7487),c=t(9353),l=t.n(c),r=t(184),d=function(e){return(0,r.jsx)("div",{children:(0,r.jsxs)("table",{className:"table table-striped container",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",children:"id"}),(0,r.jsx)("th",{scope:"col",children:"licenseName"}),(0,r.jsx)("th",{scope:"col",children:"price"}),(0,r.jsx)("th",{scope:"col",children:"renewal period"}),(0,r.jsx)("th",{scope:"col",children:"Procurment"}),(0,r.jsx)("th",{scope:"col",children:"Expiration"}),(0,r.jsx)("th",{scope:"col",children:"Download"}),(0,r.jsx)("th",{scope:"col",children:"Update"})]})}),(0,r.jsx)("tbody",{children:e.all.map((function(e){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:e.id}),(0,r.jsx)("td",{children:e.licenseName}),(0,r.jsx)("td",{children:e.price}),(0,r.jsxs)("td",{children:[e.durationWindowInWeeks," weeks"]}),(0,r.jsx)("td",{children:e.dateOfProcurement}),(0,r.jsx)("td",{children:e.dateOfExpiration}),(0,r.jsx)("td",{children:(0,r.jsx)("button",{className:"btn btn-success",onClick:function(){return n=e.id,t=e.docName,void a.Z.downloadDocument(n).then((function(e){l()(e.data,t)}));var n,t},children:"Download"})}),(0,r.jsx)("td",{children:(0,r.jsx)("button",{className:"btn btn-success",children:"update"})})]},e.id)}))})]})})},o=t(9434),u=t(2134),h={main:"AppUsers_main__Nwpq7",controls:"AppUsers_controls__i3cpy",pp:"AppUsers_pp__vFISl",table:"AppUsers_table__dcfan"},m=t(4942),p=t(1413),x={main:"Employee_main__gvIQ4",form__group:"Employee_form__group__mOgPo",left:"Employee_left__mYntB",btns:"Employee_btns__IW0rr"},f="Modal_modal__TFnwf",j="Modal_overlay__rgkVj",v="Modal_modal__content__wtGlW",_=function(e){var n=(0,i.useState)({dateOfExpiration:null,dateOfProcurement:null,durationWindowInWeeks:null,licenseName:null,price:null}),t=(0,s.Z)(n,2),c=t[0],l=t[1],d=(0,i.useState)([]),o=(0,s.Z)(d,2),u=o[0],h=o[1],_=(0,i.useState)(!0),b=(0,s.Z)(_,2),g=b[0],N=b[1],w=(0,i.useState)(),y=(0,s.Z)(w,2),C=y[0],k=y[1];(0,i.useEffect)((function(){a.Z.fetchLicenseNames().then((function(e){var n=e.data;n.unshift({id:0,licenseName:"---select---"}),console.log(n),h(n)}))}),[]);var Z=function(e){var n=e.target,t=n.name,s=n.value;l((function(e){return(0,p.Z)((0,p.Z)({},e),{},(0,m.Z)({},t,s))}))};return(0,r.jsxs)("div",{children:[!g&&(0,r.jsxs)("div",{className:f,children:[(0,r.jsx)("div",{onClick:function(){N(!g)},className:j}),(0,r.jsxs)("form",{onSubmit:function(n){n.preventDefault(),a.Z.createDepotLicense(c).then((function(n){if(N(!0),200===n.status){var t=new FormData;t.append("file",C),a.Z.attachDocument(t,n.data.id).then((function(n){200==n.status?N(!0):e.onSendMsg("unsuccessful")})),e.onSendMsg("success")}else e.onSendMsg("unsuccessful")})).catch((function(n){N(!0),e.onSendMsg("unsuccessful")}))},className:v,children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:x.form__group,children:[(0,r.jsx)("div",{className:x.left,children:(0,r.jsx)("label",{children:"License Name"})}),(0,r.jsx)("div",{className:x.right,children:(0,r.jsx)("select",{name:"licenseName",onChange:Z,required:!0,type:"text",children:u.map((function(e,n){return(0,r.jsx)("option",{value:e.licenseName,children:e.licenseName},n)}))})})]}),(0,r.jsxs)("div",{className:x.form__group,children:[(0,r.jsx)("div",{className:x.left,children:(0,r.jsx)("label",{children:"Procurement Date"})}),(0,r.jsx)("div",{className:x.right,children:(0,r.jsx)("input",{type:"date",required:!0,name:"dateOfProcurement",onChange:Z})})]}),(0,r.jsxs)("div",{className:x.form__group,children:[(0,r.jsx)("div",{className:x.left,children:(0,r.jsx)("label",{children:"Expiration Date"})}),(0,r.jsx)("div",{className:x.right,children:(0,r.jsx)("input",{type:"date",required:!0,name:"dateOfExpiration",onChange:Z})})]}),(0,r.jsxs)("div",{className:x.form__group,children:[(0,r.jsx)("div",{className:x.left,children:(0,r.jsx)("label",{children:"Price"})}),(0,r.jsx)("div",{className:x.right,children:(0,r.jsx)("input",{name:"price",onChange:Z,required:!0,type:"number"})})]}),(0,r.jsxs)("div",{className:x.form__group,children:[(0,r.jsx)("div",{className:x.left,children:(0,r.jsx)("label",{children:"Renewal Period"})}),(0,r.jsx)("div",{className:x.right,children:(0,r.jsx)("input",{name:"durationWindowInWeeks",onChange:Z,required:!0,type:"number"})})]}),(0,r.jsxs)("div",{className:x.form__group,children:[(0,r.jsx)("div",{className:x.left,children:(0,r.jsx)("label",{children:"License Document"})}),(0,r.jsx)("div",{className:x.right,children:(0,r.jsx)("input",{type:"file",name:"file",required:!0,onChange:function(e){k(e.target.files[0])},accept:".doc, .docx, .pdf"})})]})]}),(0,r.jsx)("div",{className:x.form__group,children:(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{className:"btn btn-danger",onClick:function(){N(!g)},children:"Close "}),(0,r.jsx)("button",{className:"btn btn-success",type:"submit",children:"Apply"})]})})]})]}),g&&(0,r.jsx)("div",{children:(0,r.jsx)("button",{className:"btn btn-success",onClick:function(){N(!g)},children:"New License "})})]})},b=t(2757),g=function(){var e=(0,o.v9)((function(e){return e.user})),n=(0,i.useState)(""),t=(0,s.Z)(n,2),c=t[0],l=t[1],m=(0,i.useState)([]),p=(0,s.Z)(m,2),x=p[0],f=p[1],j=["dateOfExpiration","dateOfProcurement","licenseName","price"],v=(0,i.useState)(1),g=(0,s.Z)(v,2),N=g[0],w=g[1],y=(0,i.useState)(10),C=(0,s.Z)(y,2),k=C[0],Z=C[1],S=(0,i.useState)(null),L=(0,s.Z)(S,2),E=L[0],O=L[1];(0,i.useEffect)((function(){a.Z.fetchDepotLicenses(e.depotId).then((function(e){f(e.data),console.log(e.data)}))}),[E]);var M=function(e){O(e)},U=N*k,D=U-k,R=x.filter((function(e){return j.some((function(n){return e[n].toLowerCase().includes(c)}))})),P=R.slice(D,U);return(0,r.jsxs)("div",{className:h.main,children:[(0,r.jsxs)("div",{className:h.controls,children:[(0,r.jsxs)("div",{className:h.controls__left,children:[(0,r.jsx)("input",{className:h.pp,type:"number",value:k,onChange:function(e){return Z(e.target.value)}}),(0,r.jsx)("input",{type:"text",placeholder:"search....",onChange:function(e){return l(e.target.value)}})]}),!E&&(0,r.jsx)("div",{className:"alert alert-success",children:E}),(0,r.jsx)(_,{onSendMsg:M}),(0,r.jsx)(b.Z,{route:"depot",id:1}),(0,r.jsxs)("div",{className:h.controls__right,children:[(0,r.jsx)(u.FtK,{onClick:function(){1!==N&&w(N-1)}}),(0,r.jsx)("span",{children:N+" OF "+Math.ceil(R.length/k)}),(0,r.jsx)(u.rYR,{onClick:function(){N!==Math.ceil(R.length/k)&&w(N+1)}})]})]}),(0,r.jsx)("div",{className:h.table,children:(0,r.jsx)(d,{all:P,onGetMsg:M})})]})}},9353:function(e){e.exports=function(e,n,t,s){var i=new Blob("undefined"!==typeof s?[s,e]:[e],{type:t||"application/octet-stream"});if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(i,n);else{var a=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(i):window.webkitURL.createObjectURL(i),c=document.createElement("a");c.style.display="none",c.href=a,c.setAttribute("download",n),"undefined"===typeof c.download&&c.setAttribute("target","_blank"),document.body.appendChild(c),c.click(),setTimeout((function(){document.body.removeChild(c),window.URL.revokeObjectURL(a)}),200)}}}}]);
//# sourceMappingURL=877.11bfc752.chunk.js.map